<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Parking Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            margin: 20px;
        }
        .slot {
            cursor: pointer;
            margin: 5px;
            padding: 20px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .occupied {
            background-color: #dc3545;
            color: white;
        }
        .available {
            background-color: #28a745;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center">Car Parking Management</h1>
        <div class="row mb-4">
            <div class="col">
                <h2>Parking Slots</h2>
                <div id="parking-slots" class="d-flex flex-wrap"></div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <h2>Add Car</h2>
                <form id="add-car-form">
                    <div class="mb-3">
                        <label for="car-number" class="form-label">Car Number</label>
                        <input type="text" class="form-control" id="car-number" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Car</button>
                </form>
            </div>
            <div class="col">
                <h2>Remove Car</h2>
                <form id="remove-car-form">
                    <div class="mb-3">
                        <label for="remove-car-number" class="form-label">Car Number</label>
                        <input type="text" class="form-control" id="remove-car-number" required>
                    </div>
                    <button type="submit" class="btn btn-danger">Remove Car</button>
                </form>
            </div>
        </div>
        <div id="message" class="mt-4"></div>
    </div>

    <script>
        const totalSlots = 20;
        const parkingSlots = Array.from({ length: totalSlots }, (_, i) => ({ id: i + 1, occupied: false }));

        function renderSlots() {
            const slotsContainer = document.getElementById('parking-slots');
            slotsContainer.innerHTML = '';
            parkingSlots.forEach(slot => {
                const slotDiv = document.createElement('div');
                slotDiv.className = `slot ${slot.occupied ? 'occupied' : 'available'}`;
                slotDiv.id = `slot-${slot.id}`;
                slotDiv.innerText = `Slot ${slot.id} - ${slot.occupied ? 'Occupied' : 'Available'}`;
                slotDiv.onclick = () => toggleSlot(slot.id);
                slotsContainer.appendChild(slotDiv);
            });
        }

        function toggleSlot(slotId) {
            const slot = parkingSlots[slotId - 1];
            if (slot.occupied) {
                alert('Slot already occupied! Please remove the car first.');
            } else {
                const carNumber = prompt('Enter Car Number to add:');
                if (carNumber) {
                    slot.occupied = true;
                    slot.carNumber = carNumber;
                    renderSlots();
                    document.getElementById('message').innerText = `Car ${carNumber} added to Slot ${slotId}.`;
                }
            }
        }

        document.getElementById('add-car-form').onsubmit = (e) => {
            e.preventDefault();
            const carNumber = document.getElementById('car-number').value.toLowerCase().trim();
            const availableSlot = parkingSlots.find(slot => !slot.occupied);
            if (availableSlot) {
                availableSlot.occupied = true;
                availableSlot.carNumber = carNumber;
                renderSlots();
                document.getElementById('message').innerText = `Car ${carNumber} added to Slot ${availableSlot.id}.`;
            } else {
                alert('No available slots!');
            }
            e.target.reset();
        };

        document.getElementById('remove-car-form').onsubmit = (e) => {
            e.preventDefault();
            const carNumber = document.getElementById('remove-car-number').value.toLowerCase().trim();
            const slot = parkingSlots.find(slot => slot.carNumber && slot.carNumber.toLowerCase() === carNumber);
            if (slot) {
                slot.occupied = false;
                delete slot.carNumber;
                renderSlots();
                document.getElementById('message').innerText = `Car ${carNumber} removed from Slot ${slot.id}.`;
            } else {
                alert('Car not found!');
            }
            e.target.reset();
        };

        window.onload = renderSlots;
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>